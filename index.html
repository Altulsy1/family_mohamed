<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ูุธุงู ุฅุฏุงุฑุฉ ุดุฌุฑุฉ ุนุงุฆูุฉ ูุญูุฏ ุนุจุฏุงูุฑุญูู - ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ูุชุณุฌูู ุดุฌุฑุฉ ุงูุนุงุฆูุฉ">
    <meta name="author" content="ูุญูุฏ ุนูุฑ ูุญูุฏ">
    <meta name="keywords" content="ุดุฌุฑุฉ ุงูุนุงุฆูุฉุ ุนุงุฆูุฉุ ูุญูุฏ ุนุจุฏุงูุฑุญููุ ูุธุงู ุฅุฏุงุฑุฉ">
    <title>ุดุฌุฑุฉ ุนุงุฆูุฉ ูุญูุฏ ุนุจุฏุงูุฑุญูู</title>
    
    <!-- Favicon -->
    <link rel="icon" href="assets/images/logo.png" type="image/png">
    
    <!-- ููุชุจุงุช CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/tree.css">
    <link rel="stylesheet" href="css/family-book.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- ููุชุจุงุช JavaScript -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- ุดุงุดุฉ ุงูุฏุฎูู -->
    <div id="login-screen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <div class="login-logo">
                    <i class="fas fa-tree"></i>
                </div>
                <h1>ูุธุงู ุฅุฏุงุฑุฉ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ</h1>
                <p>ุดุฌุฑุฉ ุนุงุฆูุฉ ูุญูุฏ ุนุจุฏุงูุฑุญูู (ุฃุจุง)</p>
            </div>
            
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label for="username">
                        <i class="fas fa-user"></i> ุงุณู ุงููุณุชุฎุฏู
                    </label>
                    <input type="text" id="username" placeholder="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู" required class="form-control">
                </div>
                
                <div class="form-group">
                    <label for="password">
                        <i class="fas fa-lock"></i> ูููุฉ ุงููุฑูุฑ
                    </label>
                    <input type="password" id="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" required class="form-control">
                </div>
                
                <div id="login-error" class="error-message" style="display: none;">
                    <i class="fas fa-exclamation-circle"></i>
                    <span>ุงุณู ุงููุณุชุฎุฏู ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ</span>
                </div>
                
                <button type="submit" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุงูุฏุฎูู
                </button>
                
                <div class="login-footer">
                    <p><i class="fas fa-info-circle"></i> ๐ฒ ุดุฌุฑุฉ ุนุงุฆูุฉ | ูุญูุฏ ุนุจุฏุงูุฑุญูู ุงุฏู</p>
                    <p>ุฅุนุฏุงุฏ ูุชูููุฐ: ูุญูุฏ ุนูุฑ ูุญูุฏ</p>
                </div>
            </form>
        </div>
    </div>

    <!-- ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ -->
    <div id="main-app" class="main-app" style="display:none">
        <!-- ุดุฑูุท ุงูุชููู ุงูุนููู -->
        <header class="top-bar">
            <nav class="nav-container">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="logo">
                    <i class="fas fa-tree"></i>
                    <h1>ุดุฌุฑุฉ ุนุงุฆูุฉ ูุญูุฏ ุนุจุฏุงูุฑุญูู</h1>
                </div>
                
                <div class="user-info">
                    <span id="currentDate"></span>
                    <span id="userName">ูุฏูุฑ ุงููุธุงู</span>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ
                    </button>
                </div>
            </nav>
        </header>

        <!-- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-bars"></i> ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</h3>
            </div>
            
            <ul class="sidebar-menu">
                <li class="menu-item active" data-page="dashboard">
                    <i class="fas fa-home"></i>
                    <span>ููุญุฉ ุงูุชุญูู</span>
                </li>
                <li class="menu-item" data-page="persons">
                    <i class="fas fa-users"></i>
                    <span>ุฅุฏุงุฑุฉ ุงูุฃูุฑุงุฏ</span>
                </li>
                <li class="menu-item" data-page="add-person">
                    <i class="fas fa-user-plus"></i>
                    <span>ุฅุถุงูุฉ ูุฑุฏ ุฌุฏูุฏ</span>
                </li>
                <li class="menu-item" data-page="tree">
                    <i class="fas fa-project-diagram"></i>
                    <span>ุนุฑุถ ุงูุดุฌุฑุฉ</span>
                </li>
                <li class="menu-item" data-page="map">
                    <i class="fas fa-map"></i>
                    <span>ุงูุฎุฑูุทุฉ ุงูุนุงุฆููุฉ</span>
                </li>
                <li class="menu-item" data-page="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุกุงุช</span>
                </li>
                <li class="menu-item" data-page="family-book">
                    <i class="fas fa-book"></i>
                    <span>ูุชุงุจ ุงูุนุงุฆูุฉ</span>
                </li>
                <li class="menu-item" data-page="backup">
                    <i class="fas fa-database"></i>
                    <span>ุงููุณุฎ ุงูุงุญุชูุงุทู</span>
                </li>
                <li class="menu-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>ุงูุฅุนุฏุงุฏุงุช</span>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <p>ุงูุฅุตุฏุงุฑ 2.0.0</p>
            </div>
        </aside>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main class="main-content" id="mainContent">
            <!-- ุตูุญุงุช ุงููุญุชูู ุณูุชู ุชุญููููุง ููุง -->
            <section id="dashboardPage" class="page active">
                <h3><i class="fas fa-home"></i> ููุญุฉ ุงูุชุญูู</h3>
                <p>ูุฑุญุจูุง ุจู ูู ูุธุงู ุฅุฏุงุฑุฉ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ</p>
            </section>
            
            <section id="personsPage" class="page">
                <h3><i class="fas fa-users"></i> ุฅุฏุงุฑุฉ ุงูุฃูุฑุงุฏ</h3>
                <div class="persons-container" id="personsContainer"></div>
            </section>
            
            <section id="treePage" class="page">
                <h3><i class="fas fa-project-diagram"></i> ุนุฑุถ ุงูุดุฌุฑุฉ</h3>
                <div class="tree-container" id="treeContainer"></div>
            </section>
            
            <!-- ุณุชุจูู ุงูุตูุญุงุช ุงูุฃุฎุฑู ูุฎููุฉ ุญุชู ูุชู ุชุทููุฑูุง -->
            <section id="addPersonPage" class="page" style="display:none">
                <h3><i class="fas fa-user-plus"></i> ุฅุถุงูุฉ ูุฑุฏ ุฌุฏูุฏ</h3>
                <!-- ุณูุชู ุฅุถุงูุฉ ุงููููุฐุฌ ููุง -->
            </section>
            
            <section id="mapPage" class="page" style="display:none">
                <h3><i class="fas fa-map"></i> ุงูุฎุฑูุทุฉ ุงูุนุงุฆููุฉ</h3>
                <!-- ุณูุชู ุฅุถุงูุฉ ุงูุฎุฑูุทุฉ ููุง -->
            </section>
            
            <section id="reportsPage" class="page" style="display:none">
                <h3><i class="fas fa-chart-bar"></i> ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุกุงุช</h3>
                <!-- ุณูุชู ุฅุถุงูุฉ ุงูุชูุงุฑูุฑ ููุง -->
            </section>
            
            <section id="familyBookPage" class="page" style="display:none">
                <h3><i class="fas fa-book"></i> ูุชุงุจ ุงูุนุงุฆูุฉ</h3>
                <!-- ุณูุชู ุฅุถุงูุฉ ูุชุงุจ ุงูุนุงุฆูุฉ ููุง -->
            </section>
            
            <section id="backupPage" class="page" style="display:none">
                <h3><i class="fas fa-database"></i> ุงููุณุฎ ุงูุงุญุชูุงุทู</h3>
                <!-- ุณูุชู ุฅุถุงูุฉ ุฃุฏูุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ููุง -->
            </section>
            
            <section id="settingsPage" class="page" style="display:none">
                <h3><i class="fas fa-cog"></i> ุงูุฅุนุฏุงุฏุงุช</h3>
                <!-- ุณูุชู ุฅุถุงูุฉ ุงูุฅุนุฏุงุฏุงุช ููุง -->
            </section>
        </main>

        <!-- ุฒุฑ ุนุฑุถ ุงูุดุฌุฑุฉ -->
        <button class="floating-btn" id="treeViewBtn">
            <i class="fas fa-tree"></i>
        </button>

        <!-- ูุงูุฐุฉ ุงูุฑุณุงุฆู -->
        <div class="notifications-container" id="notificationsContainer"></div>
    </div>

    <!-- ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ูุฑุฏ -->
    <div class="modal" id="personModal" style="display:none">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">ุฅุถุงูุฉ ูุฑุฏ ุฌุฏูุฏ</h3>
                <button class="close-btn" id="closeModalBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="personForm">
                    <input type="hidden" id="personId">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fullName">ุงูุงุณู ุงููุงูู *</label>
                            <input type="text" id="fullName" required class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="gender">ุงูุฌูุณ *</label>
                            <select id="gender" required class="form-control">
                                <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
                                <option value="ุฐูุฑ">ุฐูุฑ</option>
                                <option value="ุงูุซู">ุฃูุซู</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="birthPlace">ููุงู ุงููููุงุฏ</label>
                            <input type="text" id="birthPlace" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="birthDate">ุชุงุฑูุฎ ุงููููุงุฏ</label>
                            <input type="date" id="birthDate" class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fatherId">ุงูุฃุจ</label>
                            <select id="fatherId" class="form-control">
                                <option value="0">ุงุฎุชุฑ ุงูุฃุจ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="motherId">ุงูุฃู</label>
                            <select id="motherId" class="form-control">
                                <option value="0">ุงุฎุชุฑ ุงูุฃู</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="spouseId">ุงูุฒูุฌ/ุงูุฒูุฌุฉ</label>
                            <select id="spouseId" class="form-control">
                                <option value="0">ุงุฎุชุฑ ุงูุฒูุฌ/ุงูุฒูุฌุฉ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="deathDate">ุชุงุฑูุฎ ุงูููุงุฉ</label>
                            <input type="date" id="deathDate" class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">ููุงุญุธุงุช</label>
                        <textarea id="notes" rows="3" class="form-control"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">ุฅูุบุงุก</button>
                        <button type="submit" class="btn btn-primary">ุญูุธ</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ูููุฐุฌ ุงูุจุญุซ -->
    <div class="modal" id="searchModal" style="display:none">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุจุญุซ ูู ุงูุฃูุฑุงุฏ</h3>
                <button class="close-btn" id="closeSearchModalBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="searchKeyword">ูููุฉ ุงูุจุญุซ</label>
                    <input type="text" id="searchKeyword" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ููุงู ุงููููุงุฏ..." class="form-control">
                </div>
                <div class="search-results" id="searchResults"></div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุชุฃููุฏ -->
    <div class="modal" id="confirmModal" style="display:none">
        <div class="modal-content small">
            <div class="modal-header">
                <h3 id="confirmTitle">ุชุฃููุฏ ุงูุฅุฌุฑุงุก</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">ูู ุฃูุช ูุชุฃูุฏ ูู ุชูููุฐ ูุฐุง ุงูุฅุฌุฑุงุกุ</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="confirmCancel">ูุง</button>
                <button class="btn btn-danger" id="confirmOk">ูุนู</button>
            </div>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุชุญููู -->
    <div class="loading-screen" id="loadingScreen" style="display:none">
        <div class="loading-content">
            <div class="spinner">
                <i class="fas fa-spinner fa-spin"></i>
            </div>
            <p id="loadingText">ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
    </div>

    <!-- ุชุญููู ูููุงุช JavaScript ุจุงูุชุฑุชูุจ ุงูุตุญูุญ -->
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/family-data.js"></script>
    <script src="js/family-book.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/backup.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/tree-view.js"></script>
    <script src="js/family-map.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>
</body>
</html>